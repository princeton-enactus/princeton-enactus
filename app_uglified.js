var app=angular.module("app",["ngMaterial","ngRoute","ui.calendar"]);app.config(["$routeProvider","$mdThemingProvider","$mdIconProvider",function($routeProvider,$mdThemingProvider,$mdIconProvider){$routeProvider.when("/home",{templateUrl:"partials/home.html"});$routeProvider.when("/calender",{templateUrl:"partials/calender.html"});$routeProvider.when("/about",{templateUrl:"partials/about.html"});$routeProvider.when("/contact",{templateUrl:"partials/contact.html"});$routeProvider.otherwise({redirectTo:"/home"});$mdThemingProvider.theme("theme").primaryPalette("blue",{default:"900"}).accentPalette("indigo",{default:"500"}).warnPalette("red");$mdThemingProvider.setDefaultTheme("theme")}]);app.controller("MainCtrl",["$scope","$location","$log","$compile","uiCalendarConfig","$mdDialog",function($scope,$location,$log,$compile,uiCalendarConfig,$mdDialog){$scope.path=$location.path();switch($scope.path){case"/home":$scope.selectedIndex=1;break;case"/calender":$scope.selectedIndex=2;break;case"/about":$scope.selectedIndex=3;break;case"/contact":$scope.selectedIndex=4;break;default:$scope.selectedIndex=1;break}document.getElementById("returnHome").addEventListener("click",function(){$scope.selectedIndex=1});window.addEventListener("hashchange",function(event){var tab=event.newURL;var split=tab.split("#");switch(split[1]){case"/home":$scope.selectedIndex=1;break;case"/calender":$scope.selectedIndex=2;break;case"/about":$scope.selectedIndex=3;break;case"/contact":$scope.selectedIndex=4;break;default:$scope.selectedIndex=1;break}});var panelRef;$scope.openDropdown=function(event){};$scope.dialogOpened=false;var alert=undefined;$scope.showAlert=function(event){alert=$mdDialog.alert({targetEvent:event,clickOutsideToClose:false,escapeToClose:false,focusOnOpen:true,onShowing:function(){$scope.dialogOpened=true},onComplete:function(){},controller:"MainCtrl",template:'<md-dialog id="dialogBox">'+"<md-dialog-content style=\"padding: 10px; font-family: 'Fauna One', serif;\">"+'<h2 style="padding: 14px; text-align: center;" class="md-headline ng-binding">Our Emails</h2'+'<div layout="row">'+'<p style="padding: 1px; text-align: left;" class="md-title">                Charlene Liu: ckyliu@princeton.edu<br>Alison Shim: ashim@princeton.edu                <br>Misako Benso: mbenso@princeton.edu<br>Brendan Weng: bweng@princeton.edu                <br>Antony Toron: atoron@princeton.edu</p>'+'<md-button style="float: right; padding:5px;" ng-click="closeDialog()">Close</md-button>'+"</div>"+"</md-dialog-content>"+"</md-dialog>",ok:"Got it!"});$mdDialog.show(alert);$scope.dialogOpened=true};$scope.closeDialog=function(){$mdDialog.destroy(alert);alert=undefined;$scope.dialogOpened=false};$scope.enactusEvents=[{name:"Princeton Enactus Weekly Meetings",location:"Frist Campus Center (TBD)",time:"12:00pm - 1:30pm, Every Saturday"},{name:"Princeton Enactus Registration Deadline",location:"About Tab - Registration Form",time:"Due December 19, 2016"}];$scope.officersLeft=[{name:"Charlene Liu",bio:"Charlene is a sophomore and prospective East Asian Studies major at Princeton.      In addition to Enactus, Charlene fences epee for the Princeton Fencing Team and enjoys       participating in the Firestone book club society.  You can contact Charlene at ckyliu@princeton.edu.",role:"President",image:"./assets/charlene.png"},{name:"Misako Benso",bio:"Misako is a sophomore and prospective Economics major at Princeton intending     on getting a certificate in Finance.  She also is a part of Princeton Corporate Finance     Club, Whitman College Council, and dances with Princeton University Ballet.  You can     reach Misako at mbenso@princeton.edu.  ",role:"Secretary",image:"./assets/misako.jpg"},{name:"Antony Toron",bio:"Antony is a sophomore in the Computer Science department at Princeton.     He is one of the officers for ACM (Association for Computing Machinery),     a participant in Princeton Club Tennis, and interested in all things tech.     Any questions or comments for Antony can be directed to atoron@princeton.edu.",role:"Webmaster",image:"./assets/antony.jpg"}];$scope.officersRight=[{name:"Alison Shim",bio:"Alison is a sophomore and prospective Economics major at Princeton intending     on getting a certificate in Political Economy.  She also is a part of Tiger Capital      Management, Undergraduate Student Government, and tutors at Mcgraw.  You can reach Alison at ashim@princeton.edu.",role:"Vice President",image:"./assets/alison.png"},{name:"Brendan Weng",bio:"Brendan is a sophomore and prospective Economics major at Princeton. He is     planning on getting certificates in Finance and Chinese. He is the treasurer for TASA     (Taiwanese American Student Association) and a member of AASA (Asian American      Student Association). If you want to talk or have any questions, you can reach      Brendan at bweng@princeton.edu.",role:"Treasurer",image:"./assets/brendan.jpg"}];$scope.officers=[{name:"Charlene Liu",bio:"Charlene is a sophomore and prospective East Asian Studies major at Princeton.      In addition to Enactus, Charlene fences epee for the Princeton Fencing Team and enjoys       participating in the Firestone book club society.  You can contact Charlene at ckyliu@princeton.edu.",role:"President",image:"./assets/charlene.png"},{name:"Misako Benso",bio:"Misako is a sophomore and prospective Economics major at Princeton intending     on getting a certificate in Finance.  She also is a part of Princeton Corporate Finance     Club, Whitman College Council, and dances with Princeton University Ballet.  You can     reach Misako at mbenso@princeton.edu.  ",role:"Secretary",image:".assets/misako.jpg"},{name:"Antony Toron",bio:"Antony is a sophomore in the Computer Science department at Princeton.     He is one of the officers for ACM (Association for Computing Machinery),     a participant in Princeton Club Tennis, and interested in all things tech.     Any questions or comments for Antony can be directed to atoron@princeton.edu.",role:"Webmaster",image:"./assets/antony.jpg"},{name:"Alison Shim",bio:"Alison is a sophomore and prospective Economics major at Princeton intending     on getting a certificate in Political Economy.  She also is a part of Tiger Capital      Management, Undergraduate Student Government, and tutors at Mcgraw.  You can reach Alison at ashim@princeton.edu.",role:"Vice President",image:"./assets/alison.png"},{name:"Brendan Weng",bio:"Brendan is a sophomore and prospective Economics major at Princeton. He is     planning on getting certificates in Finance and Chinese. He is the treasurer for TASA     (Taiwanese American Student Association) and a member of AASA (Asian American      Student Association). If you want to talk or have any questions, you can reach      Brendan at bweng@princeton.edu.",role:"Treasurer",image:"./assets/brendan.jpg"}];$scope.closeDropdown=function(event){panelRef.close();panelRef=undefined};var date=new Date;var d=date.getDate();var m=date.getMonth();var y=date.getFullYear();$scope.changeTo="Hungarian";$scope.eventSource={googleCalendarApiKey:"",url:"http://www.google.com/calendar/feeds/usa__en%40holiday.calendar.google.com/public/basic",className:"gcal-event",currentTimezone:"America/Chicago"};$scope.events=[];for(var i=0;i<3;i++){var dat=new Date(y,m+i,1);var dow=dat.getUTCDay();var difference=7-dow;for(var j=0;j<=5;j++){var dayInMonth=difference+7*j;var eventDateStart=new Date(y,m+i,dayInMonth,12,0);var eventDateEnd=new Date(y,m+i,dayInMonth,1,30);if(dayInMonth<=31)$scope.events.push({title:"Weekly Meeting",start:eventDateStart,end:eventDateEnd,allDay:false})}}$scope.eventsF=function(start,end,timezone,callback){var s=new Date(start).getTime()/1e3;var e=new Date(end).getTime()/1e3;var m=new Date(start).getMonth();var events=[{title:"Feed Me "+m,start:s+5e4,end:s+1e5,allDay:false,className:["customFeed"]}];callback(events)};$scope.calEventsExt={color:"#f00",textColor:"yellow",events:[{type:"party",title:"Lunch",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:false},{type:"party",title:"Lunch 2",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:false},{type:"party",title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/"}]};$scope.alertOnEventClick=function(date,jsEvent,view){$scope.alertMessage=date.title+" was clicked "};$scope.alertOnDrop=function(event,delta,revertFunc,jsEvent,ui,view){$scope.alertMessage="Event Droped to make dayDelta "+delta};$scope.alertOnResize=function(event,delta,revertFunc,jsEvent,ui,view){$scope.alertMessage="Event Resized to make dayDelta "+delta};$scope.addRemoveEventSource=function(sources,source){var canAdd=0;angular.forEach(sources,function(value,key){if(sources[key]===source){sources.splice(key,1);canAdd=1}});if(canAdd===0){sources.push(source)}};$scope.addEvent=function(){$scope.events.push({title:"Open Sesame",start:new Date(y,m,28),end:new Date(y,m,29),className:["openSesame"]})};$scope.remove=function(index){$scope.events.splice(index,1)};$scope.changeView=function(view,calendar){uiCalendarConfig.calendars[calendar].fullCalendar("changeView",view)};$scope.renderCalender=function(calendar){if(uiCalendarConfig.calendars[calendar]){uiCalendarConfig.calendars[calendar].fullCalendar("render")}};$scope.eventRender=function(event,element,view){element.attr({tooltip:event.title,"tooltip-append-to-body":true});$compile(element)($scope)};$scope.uiConfig={calendar:{height:450,editable:true,header:{left:"title",center:"",right:"today prev,next"},eventClick:$scope.alertOnEventClick,eventDrop:$scope.alertOnDrop,eventResize:$scope.alertOnResize,eventRender:$scope.eventRender}};$scope.changeLang=function(){if($scope.changeTo==="Hungarian"){$scope.uiConfig.calendar.dayNames=["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"];$scope.uiConfig.calendar.dayNamesShort=["Vas","Hét","Kedd","Sze","Csüt","Pén","Szo"];$scope.changeTo="English"}else{$scope.uiConfig.calendar.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];$scope.uiConfig.calendar.dayNamesShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];$scope.changeTo="Hungarian"}};$scope.eventSources=[$scope.events,$scope.eventSource,$scope.eventsF];$scope.eventSources2=[$scope.calEventsExt,$scope.eventsF,$scope.events];$scope.$watch("selectedIndex",function(current,old){switch(current){case 0:$location.url("/home");break;case 1:$location.url("/home");break;case 2:$location.url("/calender");break;case 3:$location.url("/about");break;case 4:$location.url("/contact");break;default:$location.url("/home");break}})}]);
